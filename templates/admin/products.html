{% extends "admin/base.html" %}

{% block title %}Products - Admin Panel{% endblock %}
{% block page_title %}Product Management{% endblock %}

{% block admin_content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin_products.css') }}">
<div class="data-table">
    <div class="table-header">
        <h3>All Products</h3>
        <div class="table-actions">
            <a href="{{ url_for('sell') }}" class="btn btn-primary">
                <i class="fas fa-plus"></i> Add Product
            </a>
        </div>
    </div>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Product</th>
                <th>Category</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Seller</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>
                    <div class="product-info">
                        <img src="{{ product.image_url }}" alt="{{ product.name }}" class="product-thumb">
                        {{ product.name }}
                    </div>
                </td>
                </td>
                <td>{{ product.category }}</td>
                <td>KSh {{ "%.2f"|format(product.price) }}</td>
                <td>{{ product.stock }}</td>
                <td>{{ product.seller.name }}</td>
                <td>
                    <span class="status-badge {% if product.stock > 10 %}status-active{% elif product.stock > 0 %}status-warning{% else %}status-inactive{% endif %}">
                        {% if product.stock > 10 %}In Stock{% elif product.stock > 0 %}Low Stock{% else %}Out of Stock{% endif %}
                    </span>
                </td>
                <td>
                    <div class="action-buttons">
                        <button class="btn-icon" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
